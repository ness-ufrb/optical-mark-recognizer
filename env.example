# ==========================================
# CONFIGURAÇÕES DO SISTEMA DE CORREÇÃO DE GABARITOS
# ==========================================

# ------------------------------------------
# CAMINHOS
# ------------------------------------------
base_path=/Users/tassiovalle/Documents/repos-ness/optical-mark-recognizer/arquivos/prova1_espanhol

# ------------------------------------------
# MODO DEBUG
# ------------------------------------------
# Ative o modo debug para salvar imagens dos retângulos detectados
# e da área do identificador. Útil para calibração.
# Valores: true ou false
DEBUG_MODE=false

# ------------------------------------------
# CONFIGURAÇÕES DAS QUESTÕES
# ------------------------------------------
question_blocks_quantity=5
questions_per_block_quantity=5
total_questions=25
question_index_initial_value=1

# ------------------------------------------
# DETECÇÃO DE BOLHAS
# ------------------------------------------
min_bubble_size=20
dark_pixel_threshold=220
circle_width=33
circle_height=33

# ------------------------------------------
# ESPAÇAMENTOS
# ------------------------------------------
column_spacing=5
row_spacing=13
block_spacing=84

# ==========================================
# DETECÇÃO DO RETÂNGULO DE REFERÊNCIA
# ==========================================
# O retângulo de referência é o campo "Nome do Candidato"
# que está no topo à esquerda da folha de respostas

# ------------------------------------------
# ÁREA DO RETÂNGULO (em pixels²)
# ------------------------------------------
# Ajuste estes valores baseado no tamanho do campo "Nome do Candidato"
# Para um campo de ~950x70 pixels, a área é aproximadamente 66.500 px²
reference_rect_min_area=10000
reference_rect_max_area=200000

# ------------------------------------------
# PROPORÇÃO DO RETÂNGULO (largura/altura)
# ------------------------------------------
# Campos de nome geralmente têm proporção entre 3:1 e 12:1
# (muito mais largos que altos)
reference_rect_min_aspect_ratio=3.0
reference_rect_max_aspect_ratio=12.0

# ------------------------------------------
# RETANGULARIDADE
# ------------------------------------------
# Quão "cheio" é o retângulo (0.0 a 1.0)
# Valores menores permitem formas mais irregulares
reference_rect_min_extent=0.6

# ------------------------------------------
# RESTRIÇÕES DE POSIÇÃO
# ------------------------------------------
# Limitar a busca à parte superior e esquerda da imagem

# Posição Y máxima: buscar apenas no topo da página
# 400 pixels é aproximadamente o terço superior de uma página A4 escaneada em 300 DPI
reference_rect_max_y_position=400

# Posição X máxima: buscar apenas na metade esquerda
# Valor em pixels ou use 0 para desabilitar este filtro
# Dica: Para imagem de 2480px de largura, use 1736 (70% da largura)
reference_rect_max_x_position=1736

# ------------------------------------------
# DETECÇÃO DE BOLHAS
# ------------------------------------------
# Posição da primeira bolha a partir do retângulo de referência
# X: deslocamento horizontal da primeira bolha (positivo = direita do retângulo)
first_bubble_offset_from_ref_x=65
# Y: deslocamento vertical da primeira bolha (positivo = abaixo do retângulo)
first_bubble_offset_from_ref_y=1119

# ==========================================
# EXTRAÇÃO DO IDENTIFICADOR DO EXAME
# ==========================================

# ------------------------------------------
# OFFSETS DO IDENTIFICADOR
# ------------------------------------------
# Posição do campo "Nº Inscrição" em relação ao "Nome do Candidato"

# Para o exemplo fornecido:
# - O campo "Nº Inscrição" está à DIREITA do campo "Nome"
# - Está aproximadamente na MESMA ALTURA (Y similar)

# X: deslocamento horizontal do ID (positivo = direita do nome)
exam_id_offset_from_ref_x=2

# Y: deslocamento vertical do ID (0 = mesma altura, positivo = abaixo)
exam_id_offset_from_ref_y=40

# ------------------------------------------
# DIMENSÕES DA ÁREA DO IDENTIFICADOR
# ------------------------------------------
exam_identifier_width=800
exam_identifier_height=50

# ------------------------------------------
# CONFIGURAÇÕES DO OCR
# ------------------------------------------
# Lista de caracteres permitidos no identificador
exam_identifier_whitelist=0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ

# ==========================================
# GUIA DE CALIBRAÇÃO
# ==========================================
#
# PASSO 1: ATIVAR MODO DEBUG
# ---------------------------
# Defina DEBUG_MODE=true e execute o script
# Isso irá gerar arquivos de imagem mostrando:
#   - debug_rectangle_*.png: Retângulos detectados
#   - debug_exam_identifier_area.png: Área do ID extraída
#
# PASSO 2: VERIFICAR RETÂNGULO DE REFERÊNCIA
# -------------------------------------------
# Verifique qual retângulo foi selecionado.
# Se não for o "Nome do Candidato":
#   - Ajuste reference_rect_min_area e reference_rect_max_area
#   - Ajuste reference_rect_max_y_position (menor = mais acima)
#   - Ajuste reference_rect_min_aspect_ratio (maior = mais alongado)
#
# PASSO 3: CALIBRAR POSIÇÃO DAS BOLHAS
# --------------------------------------
# Usando as coordenadas impressas no console:
#   bubble_offset_from_ref_x = (X da primeira bolha) - (X do retângulo)
#   bubble_offset_from_ref_y = (Y da primeira bolha) - (Y do retângulo)
#
# PASSO 4: CALIBRAR POSIÇÃO DO ID
# --------------------------------
# Verificando a imagem debug_exam_identifier_area.png:
# - Se o ID não está visível, ajuste os offsets:
#   exam_id_offset_from_ref_x = (X do campo ID) - (X do retângulo)
#   exam_id_offset_from_ref_y = (Y do campo ID) - (Y do retângulo)
# - Se está cortado, aumente exam_identifier_width ou exam_identifier_height
#
# PASSO 5: PROCESSAR EM LOTE
# ---------------------------
# Defina DEBUG_MODE=false e execute para processar todos os arquivos
#
# ==========================================